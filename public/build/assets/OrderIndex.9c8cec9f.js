import{M as g}from"./vue3-multiselect.umd.min.8f061091.js";/* empty css                         */import{y as v,b as k,s as h,r as l,A as n,a as x,i as y,k as P,H as C,o as R,d as S,e as o,C as c,q as i,j as A,x as B}from"./main.cc415107.js";import{g as u}from"./global-components.72a0ecbe.js";import{_ as D}from"./Table.vue_vue_type_style_index_0_lang.d25641a7.js";import"./vue3-datatable.00da8407.js";import"./transition.9fc98ba7.js";import"./dom.dcc5cba1.js";import"./micro-task.4bc1500d.js";import"./open-closed.12e61d64.js";const F={class:"flex flex-wrap mb-2 gap-3"},T={class:"flex flex-col"},q=o("label",{class:"font-semibold",for:"faculty"},"Status",-1),V=o("div",{style:{height:"70vh"}},null,-1),G=v({__name:"OrderIndex",setup(w){k(),h("axios"),l({}),l("Harian");const r=l(null);l("Harian"),n.users(),x({title:"Pesanan"});const f=l([{field:"payment_identifier",title:"No. Invoice",sort:!0},{field:"nama_user",title:"Nama Pembeli",sort:!1,cellRenderer:e=>{var a,t;return(t=(a=e==null?void 0:e.user)==null?void 0:a.name)!=null?t:"-"}},{field:"payment_channel",title:"Channel Pembayaran",sort:!1},{field:"created_at",title:"Tanggal",sort:!1,cellRenderer:e=>u.formatDateTime(e.created_at)},{field:"status",title:"Status",sort:!1,cellRenderer:e=>{let a="",t=e.status;switch(t){case"Pending":a="#FFC107";break;case"Paid":a="#28A745";break;case"Completed":a="#007BFF";break;case"ProcessedBySeller":a="#17A2B8";break;case"Shipped":a="#6610F2";break;case"Delivered":a="#894dd7";break;case"ExpiredPayment":a="#6C757D";break;case"Cancelled":a="#FF0000";break;default:a="#000000";break}return`<span class="badge" style="background-color: ${a};">${t}</span>`}},{field:"total",title:"Total",sort:!1,cellRenderer:e=>u.formatPrice(e.total_final?e.total_final:e.total)},{field:"actions",title:"Aksi",slot:!0,sort:!1}])||[],p=l([{type:"previewIcon",to:({value:e})=>`/admin/order/detail/${e.id}`}]);let s=l(null);y(s,(e,a)=>{e==null&&r.value.getData()});const m=l(["Pending","Paid","Completed","ProcessedBySeller","Shipped","Delivered","ExpiredPayment","Cancelled"]);let d=P({});const b=e=>{B(()=>{console.log("statusRequest.value"),console.log(s.value),Object.assign(d,{statusRequest:s.value}),_()})},_=e=>{r.value.getData(d)};return C(async()=>{n.isAuthenticated()&&n.getToken()!=!1}),(e,a)=>(R(),S("div",null,[o("div",F,[o("div",T,[q,c(i(g),{id:"status",modelValue:i(s),"onUpdate:modelValue":a[0]||(a[0]=t=>A(s)?s.value=t:s=t),options:m.value,searchable:!0,multiple:!1,"selected-label":"",placeholder:"Data tidak ditemukan","select-label":"","deselect-label":"",onSelect:b},null,8,["modelValue","options"])])]),c(D,{url:"/admin/order/index",cols:i(f),actions:p.value,title:"Daftar Pesanan",dropdownAction:!1,searching:!0,ref_key:"datatable",ref:r},null,8,["cols","actions"]),V]))}});export{G as default};
