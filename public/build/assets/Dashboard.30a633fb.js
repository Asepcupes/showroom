import{y as j,b as z,s as L,r,A as x,a as P,k,H as T,B as $,o as N,d as X,e as t,L as h,q as n,C,D as B,E,G as V}from"./main.cc415107.js";import{g as q}from"./global-components.72a0ecbe.js";const J={class:"grid grid-cols-2 sm:grid-cols-4 gap-6 mb-6"},Y={class:"panel py-6 bg-gradient-to-r from-cyan-500 to-cyan-400 text-white"},F=t("div",{class:"flex justify-between"},[t("div",{class:"ltr:mr-1 rtl:ml-1 text-md font-semibold"}," Saldo Commerce ")],-1),G={class:"flex items-center mt-2"},K={class:"text-3xl font-bold ltr:mr-3 rtl:ml-3"},R={class:"panel py-6 bg-gradient-to-r from-green-500 to-green-400 text-white"},U=t("div",{class:"flex justify-between"},[t("div",{class:"ltr:mr-1 rtl:ml-1 text-md font-semibold"}," Total Pesanan Berhasil ")],-1),I={class:"flex items-center mt-2"},O={class:"text-3xl font-bold ltr:mr-3 rtl:ml-3"},Q={class:"panel py-6 bg-gradient-to-r from-yellow-500 to-yellow-400 text-white"},W=t("div",{class:"flex justify-between"},[t("div",{class:"ltr:mr-1 rtl:ml-1 text-md font-semibold"}," Jumlah Produk ")],-1),Z={class:"flex items-center mt-2"},tt={class:"text-3xl font-bold ltr:mr-3 rtl:ml-3"},et={class:"panel py-6 bg-gradient-to-r from-purple-500 to-purple-400 text-white"},st=t("div",{class:"flex justify-between"},[t("div",{class:"ltr:mr-1 rtl:ml-1 text-md font-semibold"},"Jumlah User")],-1),at={class:"flex items-center mt-2"},ot={class:"text-3xl font-bold ltr:mr-3 rtl:ml-3"},lt={class:"grid xl:grid-cols-1 gap-6 mb-6"},it={class:"panel h-full xl:col-span-2"},rt={class:"flex items-center justify-between dark:text-white-light mb-5"},nt=t("h5",{class:"font-semibold text-lg"},"Aktivitas Pesanan",-1),dt={class:"dropdown ltr:ml-auto rtl:mr-auto"},ct={type:"button",class:"btn btn-white dropdown-toggle shadow-none"},ht=t("svg",{class:"ml-1",width:"16",height:"16",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M9.60235 4.59668L6.24576 7.47376L2.88916 4.59668",stroke:"#0E1726","stroke-width":"0.719271","stroke-linecap":"round","stroke-linejoin":"round"})],-1),ft=["onClick"],mt={class:"relative"},ut=t("div",{style:{height:"20vh"}},null,-1),_t=j({__name:"Dashboard",setup(gt){var _;const o=z(),f=L("axios");r({});const a=r("Harian");r("Harian");let g=x.users();const A=(_=g==null?void 0:g.educational_institution)==null?void 0:_.type;P({title:"Dashboard"});const d=!!(o.theme==="dark"||o.isDarkMode),c=o.rtlClass==="rtl",m=async e=>{e=="weekly"?a.value="Harian":e=="monthly"?a.value="Mingguan":e=="yearly"&&(a.value="Bulanan"),u.value=[],l.xaxis.categories=[];const s=(await f.get(`/admin/activity-orders?type=${e}`)).data;u.value=s.series,l.xaxis.categories=s.categories},l=k({chart:{height:325,type:"line",fontFamily:"Nunito, sans-serif",zoom:{enabled:!1},toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{show:!0,curve:"smooth",width:2,lineCap:"square"},dropShadow:{enabled:!0,opacity:.2,blur:10,left:-7,top:22},grid:{borderColor:d?"#191e3a":"#e0e6ed",strokeDashArray:5,padding:{top:5,bottom:5,left:5,right:5},xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},tooltip:{x:{show:!1},marker:{show:!1},y:{formatter(e){return q.formatThousand(e)}}},colors:d?["#2196f3","#e7515a"]:["#1b55e2","#e7515a"],labels:[],xaxis:{categories:[],axisBorder:{show:!1},axisTicks:{show:!1},crosshairs:{show:!0},labels:{offsetX:c?2:0,offsetY:5,style:{fontSize:"12px",cssClass:"apexcharts-xaxis-title"}}},yaxis:{tickAmount:7,labels:{formatter:e=>e,offsetX:c?-30:-10,offsetY:0,style:{fontSize:"12px",cssClass:"apexcharts-yaxis-title"}},opposite:!!c},legend:{position:"top",horizontalAlign:"right",fontSize:"16px",markers:{width:10,height:10,offsetX:-2},itemMargin:{horizontal:10,vertical:5}}});var i=r({});const u=r([]);k({chart:{height:300,type:"line",toolbar:!1},colors:[],tooltip:{marker:!1,y:{formatter(e){if(e>0)switch(A){case"campus":return e+" Mahasiswa";case"school":return e+" Siswa";case"business_organization":return e+" Karyawan";default:return e}else return e}},theme:d?"dark":"light"},stroke:{width:2,curve:"smooth"},xaxis:{categories:[],axisBorder:{color:d?"#191e3a":"#e0e6ed"}},yaxis:{opposite:!!c,labels:{offsetX:c?-20:0}},grid:{borderColor:d?"#191e3a":"#e0e6ed",strokeDashArray:5,padding:{top:5,bottom:5,left:5,right:5},xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}}}),r([]);const M=async()=>{(await f.get("/admin/dashboard2")).data,i.value=(await f.get("/admin/dashboard2")).data,console.log(i.value)},S=async(e="weekly")=>{l.xaxis.categories=[],(e=="weekly"&&a.value!="Harian"||e=="monthly"&&a.value!="Mingguan"||e=="yearly"&&a.value!="Bulanan")&&(e=="weekly"?a.value="Harian":e=="monthly"?a.value="Mingguan":e=="yearly"&&(a.value="Bulanan"));const s=(await f.get("/admin/activity-orders",{params:{type:e}})).data;l.xaxis.categories=s.categories,l.colors=s.colors,u.value=s.series};return T(async()=>{o.isShowMainLoader=!0,x.isAuthenticated()&&x.getToken()!=!1&&await S(),m("weekly"),await M(),o.isShowMainLoader=!1}),(e,s)=>{var v,w,y,b;const D=$("Popper");return N(),X("div",null,[t("div",J,[t("div",Y,[F,t("div",G,[t("div",K,h((v=n(i))==null?void 0:v.commerce_balance),1)])]),t("div",R,[U,t("div",I,[t("div",O,h((w=n(i))==null?void 0:w.completed_orders),1)])]),t("div",Q,[W,t("div",Z,[t("div",tt,h((y=n(i))==null?void 0:y.product_count),1)])]),t("div",et,[st,t("div",at,[t("div",ot,h((b=n(i))==null?void 0:b.user_count),1)])])]),t("div",lt,[t("div",it,[t("div",rt,[nt,t("div",dt,[C(D,{placement:n(o).rtlClass==="rtl"?"bottom-start":"bottom-end",offsetDistance:"0",class:"align-middle"},{content:B(({close:H})=>[t("ul",{onClick:p=>H(),class:"whitespace-nowrap"},[t("li",null,[t("button",{onClick:s[0]||(s[0]=p=>m("daily"))},"Harian")]),t("li",null,[t("button",{onClick:s[1]||(s[1]=p=>m("monthly"))},"Mingguan")]),t("li",null,[t("button",{onClick:s[2]||(s[2]=p=>m("yearly"))},"Bulanan")])],8,ft)]),default:B(()=>[t("button",ct,[V(h(a.value)+" ",1),ht])]),_:1},8,["placement"])])]),t("div",mt,[C(n(E),{height:"400",options:l,series:u.value,class:"bg-white dark:bg-black rounded-lg overflow-hidden"},null,8,["options","series"])])])]),ut])}}});export{_t as default};
