import{y as j,u as D,ah as R,A as L,r as _,b as V,s as $,H as M,a as A,B as q,o as i,d as r,e,C as S,D as N,L as k,q as s,f,v as g,M as h,J as I,K as U,G as w,S as c}from"./main.cc415107.js";/* empty css                         */import{u as Z,r as F}from"./index.d69abeab.js";import{g as H}from"./global-components.72a0ecbe.js";/* empty css                  */const E={class:"flex space-x-2 rtl:space-x-reverse mt-4 sm:mt-0 mb-4 mx-4 sm:mx-0"},K={class:"before:content-['/'] ltr:before:mr-2 rtl:before:ml-2"},W={class:"font-medium"},Y={class:"sm:pt-4 px-4 sm:px-0 text-xl font-bold"},G={class:"pt-3 flex flex-col lg:flex-row gap-5"},J={class:"w-full lg:w-3/4 border border-[#ebedf2] dark:border-[#191e3a] rounded-md p-4 mb-5 bg-white dark:bg-[#0e1726]"},O={class:"flex-1"},z={class:"grid grid-cols-1 gap-5"},Q={class:"grid grid-cols-2 gap-2"},X={class:"flex flex-col gap-2"},ee=e("label",{class:"w-full md:mb-0 font-semibold",for:"page"},"No. Invoice Pesanan",-1),te={class:"flex flex-col gap-2"},se=e("label",{class:"w-full md:mb-0 font-semibold",for:"page"},"Data Pengguna",-1),ae={class:"grid grid-cols-2 gap-2"},oe={class:"flex flex-col gap-2"},ne=e("label",{class:"w-full md:mb-0 font-semibold",for:"page"},"Alasan Pengajuan",-1),le={class:"flex flex-col gap-2"},ie=e("label",{class:"w-full md:mb-0 font-semibold",for:"page"},"Deskripsi Pengajuan",-1),re={class:"grid grid-cols-1 gap-5"},de={key:0},ue={key:0,class:"flex flex-col gap-2 mt-4"},ce=e("label",{class:"w-full md:mb-0 font-semibold",for:"page"},"Tenggat Pengiriman Barang",-1),me={key:1},pe={class:"flex flex-col gap-2 mt-4"},fe=e("label",{class:"w-full md:mb-0 font-semibold",for:"page"},"Foto-Foto Terkait",-1),ge={class:"flex flex-wrap gap-2"},_e=["src"],he={class:"flex flex-col gap-2 mt-4"},ve=e("label",{class:"w-full md:mb-0 font-semibold",for:"page"},"Video Terkait",-1),be={class:"flex flex-wrap gap-2"},we={key:0,width:"320",controls:""},xe=["src"],Ce={key:1},ke={key:0,class:"w-full lg:w-1/4"},ye={class:"border border-[#ebedf2] dark:border-[#191e3a] rounded-md p-4 mb-5 bg-white dark:bg-[#0e1726]"},Be=e("svg",{class:"w-5 h-5 ltr:mr-2 rtl:ml-2 shrink-0 text-white",width:"24",height:"24",viewBox:"0 0 24 24",fill:"note",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M14.4697 7.53033C14.7626 7.82322 15.2374 7.82322 15.5303 7.53033C15.8232 7.23744 15.8232 6.76256 15.5303 6.46967L12.5303 3.46967C12.2374 3.17678 11.7626 3.17678 11.4697 3.46967L8.46967 6.46967C8.17678 6.76256 8.17678 7.23744 8.46967 7.53033C8.76256 7.82322 9.23744 7.82322 9.53033 7.53033L11.25 5.81066V14C11.25 14.4142 11.5858 14.75 12 14.75C12.4142 14.75 12.75 14.4142 12.75 14V5.81066L14.4697 7.53033Z",fill:"currentColor"}),e("path",{d:"M20.75 12C20.75 11.5858 20.4142 11.25 20 11.25C19.5858 11.25 19.25 11.5858 19.25 12C19.25 16.0041 16.0041 19.25 12 19.25C7.99593 19.25 4.75 16.0041 4.75 12C4.75 11.5858 4.41421 11.25 4 11.25C3.58579 11.25 3.25 11.5858 3.25 12C3.25 16.8325 7.16751 20.75 12 20.75C16.8325 20.75 20.75 16.8325 20.75 12Z",fill:"currentColor"})],-1),Pe=e("svg",{class:"w-5 h-5 ltr:mr-2 rtl:ml-2 shrink-0 text-white",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 1.25C6.06294 1.25 1.25 6.06294 1.25 12C1.25 17.9371 6.06294 22.75 12 22.75C17.9371 22.75 22.75 17.9371 22.75 12C22.75 6.06294 17.9371 1.25 12 1.25ZM2.75 12C2.75 6.89137 6.89137 2.75 12 2.75C14.2845 2.75 16.3756 3.57817 17.9894 4.95066C17.9827 4.95685 17.9762 4.96319 17.9697 4.96967L4.96969 17.9694C4.96317 17.976 4.95679 17.9826 4.95056 17.9893C3.57813 16.3755 2.75 14.2845 2.75 12ZM6.0105 19.0492C7.62432 20.4218 9.71544 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 9.7155 20.4218 7.62442 19.0493 6.01062C19.0431 6.01728 19.0368 6.02386 19.0303 6.03034L6.03034 19.0301C6.02382 19.0366 6.0172 19.043 6.0105 19.0492Z",fill:"currentColor"})],-1),Me=j({__name:"RefundDetail",setup(Te){const x=D(),y=R();L.users();let C=y.params.id,n=_(""),m=_(""),t=_({});Z({form:{orderId:{required:F}}},{form:t});const v=V(),b=$("axios");_(null),M(async()=>{v.isShowMainLoader=!0,await b.get(`/admin/refunds/${C}`).then(u=>{var a,o,d,p;t.value=u.data,t.value.status.toLowerCase().includes("refund")?(n.value="refund",m.value="Refund"):t.value.status.toLowerCase().includes("return")?(n.value="return",m.value="Return(Pengembalian Barang)"):t.value.status.toLowerCase().includes("complaint")&&(n.value="complaint",m.value="Komplain Pesanan"),t.value.userData=((a=t.value.user)==null?void 0:a.name)+" - "+((o=t.value.user)==null?void 0:o.email)+" - "+((d=t.value.user)!=null&&d.phone_number?"(+62 "+((p=t.value.user)==null?void 0:p.phone_number)+")":"(No HP Tidak Tersedia)"),console.log(t.value),v.isShowMainLoader=!1}).catch(u=>{var o,d;v.isShowMainLoader=!1,console.log("DAPAT ERROR");let a=((d=(o=u.response)==null?void 0:o.data)==null?void 0:d.message)||u.message;H.handleToast("danger",a)})}),A({title:"Detail Pengajuan"});const B=()=>{const u=c.mixin({customClass:{popup:"sweet-alerts",confirmButton:"btn btn-success",cancelButton:"btn btn-dark ltr:mr-3 rtl:ml-3"},buttonsStyling:!1}),a=c.mixin({toast:!0,position:"bottom-right",showConfirmButton:!1,customClass:{popup:"color-success"},timer:1002,showCloseButton:!0});u.fire({title:"Terima Pengajuan",text:"Apakah kamu yakin untuk menerima Pengajuan Ini ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Approve",cancelButtonText:"Batal",reverseButtons:!0,padding:"2em"}).then(o=>{o.value?(console.log(`/admin/complaint/accept-${n.value}/${t.value.id}`),b.post(`/admin/complaint/accept-${n.value}/${t.value.id}`).then(d=>{a.fire("Pengajuan berhasil diapprove."),x.push(`/admin/${n.value}/index`)})):(o.dismiss,c.DismissReason.cancel)})},P=()=>{const u=c.mixin({customClass:{popup:"sweet-alerts",confirmButton:"btn btn-danger",cancelButton:"btn btn-dark ltr:mr-3 rtl:ml-3"},buttonsStyling:!1}),a=c.mixin({toast:!0,position:"bottom-right",showConfirmButton:!1,customClass:{popup:"color-success"},timer:1002,showCloseButton:!0});u.fire({title:"Tolak Pengajuan",text:"Apakah kamu yakin untuk tolak Pengajuan Ini ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Tolak",cancelButtonText:"Batal",reverseButtons:!0,padding:"2em"}).then(o=>{o.value?(console.log(`/admin/complaint/reject-${n.value}/${t.value.id}`),b.post(`/admin/complaint/reject-${n.value}/${t.value.id}`).then(d=>{a.fire("Pengajuan telah ditolak."),x.push(`/admin/${n.value}/index`)})):(o.dismiss,c.DismissReason.cancel)})};return(u,a)=>{var d,p;const o=q("router-link");return i(),r("div",null,[e("ul",E,[e("li",null,[S(o,{to:"/admin/refund/index",class:"text-primary hover:underline font-medium"},{default:N(()=>[w("Refund")]),_:1})]),e("li",K,[e("span",W,k(`Detail Pengajuan ${s(m)}`),1)])]),e("p",Y,k(`Detail Pengajuan ${s(m)}`),1),e("div",G,[e("div",J,[e("div",O,[e("div",z,[e("div",Q,[e("div",X,[ee,f(e("input",{class:"md:w-4/4 form-input",id:"name",type:"text",required:"",readonly:!0,placeholder:"","onUpdate:modelValue":a[0]||(a[0]=l=>s(t).payment_identifier=l)},null,512),[[g,s(t).payment_identifier]])]),e("div",te,[se,f(e("input",{class:"md:w-4/4 form-input",id:"name",type:"text",required:"",readonly:!0,placeholder:"Data Pengguna","onUpdate:modelValue":a[1]||(a[1]=l=>s(t).userData=l)},null,512),[[g,s(t).userData]])])]),e("div",ae,[e("div",oe,[ne,f(e("input",{class:"md:w-4/4 form-input",id:"name",type:"text",required:"",readonly:!0,placeholder:"Alasan Pengajuan","onUpdate:modelValue":a[2]||(a[2]=l=>s(t).returning_reason=l)},null,512),[[g,s(t).returning_reason]])]),e("div",le,[ie,f(e("textarea",{class:"md:w-4/4 form-input",id:"name",readonly:!0,rows:"1",placeholder:"Deskripsi Pengajuan","onUpdate:modelValue":a[3]||(a[3]=l=>s(t).returning_description=l)},null,512),[[g,s(t).returning_description]])])])]),e("div",re,[s(n)=="return"||s(n)=="refund"?(i(),r("div",de,[s(n)=="return"?(i(),r("div",ue,[ce,s(t).returning_sending_due?f((i(),r("input",{key:0,class:"md:w-4/4 form-input",id:"name",type:"text",required:"",readonly:!0,placeholder:"Tanggal","onUpdate:modelValue":a[4]||(a[4]=l=>s(t).returning_sending_due=l)},null,512)),[[g,s(t).returning_sending_due]]):(i(),r("div",me,"-"))])):h("",!0),e("div",pe,[fe,e("div",ge,[(i(!0),r(I,null,U(s(t).returning_images,(l,T)=>(i(),r("div",{key:T,class:"h-1/2"},[e("img",{src:l,class:"w-full h-52 object-cover rounded-md"},null,8,_e)]))),128))])]),e("div",he,[ve,e("div",be,[s(t).returning_video?(i(),r("video",we,[e("source",{src:s(t).returning_video},null,8,xe)])):(i(),r("div",Ce," Video Tidak Tersedia atau tidak bisa ditampilkan "))])])])):h("",!0)])])]),((p=(d=s(t))==null?void 0:d.status)==null?void 0:p.includes("Requested"))||s(t).status=="Complaint"?(i(),r("div",ke,[e("div",ye,[e("button",{type:"submit",onClick:B,class:"btn btn-success w-full btn-lg"},[Be,w(" Approve ")]),s(C)?(i(),r("button",{key:0,type:"button",onClick:P,class:"btn btn-danger w-full btn-lg mt-4"},[Pe,w(" Reject ")])):h("",!0)])])):h("",!0)])])}}});export{Me as default};
